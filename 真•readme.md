# 前言
写这个接口算是经验累积吧，所以写一份文档分享一下，讲讲解接口是怎么一步一步做出来的，主要聊聊思路方面的东西。里面相关的技术都是很简单的，谁都学得会，但是思路就需要思考和总结了。  
# 需求分析
1.这个接口的功能是为了在多个不同的项目之间建立一套数据传输的机制，而所有项目运行的环境都是在jeesite框架上，所以接口也使用jeesite框架作为基础，一来可以便利使用jeesite的API，二来跟各个项目可以无缝连接。  
2.一次传输的数据包括数据库的数据，附件等，数据库的数据是序列化的，网络传输序列化数据最通用的就是JSON，而附件等文件传输可以有多种方式，常用的是文件流的方式，或者转成base64字符串后添加到JSON当中传输。如果附件文件较小，添加到JSON当中传是非常便利的，但是文件巨大的情况下，生成JSON的过程会很缓慢，解析的时候需要把整个JSON读到内存中，如果有个附件中有部高清电影，内存直接爆炸哦(⊙﹏⊙)，由于无法确定传输的是什么数据，所以不知道大小，选择文件流的方式传是比较好的。  
3.选用上面结论的方式传输，意味着每次传输可能都是有多个文件的，一个JSON文件，多个附件文件，不确定文件的个数，接收端的代码写起来会比较麻烦，所有就想到把所有文件压缩成一个zip再传，jeesite的FileUtils类也有非常方便的压缩文件方法，这样就永远都是一个文件在传输啦♪(^∇^*)  
4.由于是涉密系统，传输的数据是需要保护的，不然被人抓包拿去卖就不好了(ˉ▽￣～) 切~~，所以JSON文件内容要加密，压缩包也要加密码。经树根介绍，jeesite有自己的加密方法，就是AesUtils类，真的很方便哦。但是！